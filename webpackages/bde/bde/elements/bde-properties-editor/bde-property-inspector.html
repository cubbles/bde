<link rel="import" href="../../vendor/polymer/polymer.html"/>

<dom-module id="bde-property-inspector">

    <style>
    :host {
        box-sizing: border-box;
        display: block;
        padding: 0 10px;
    }

    div {
        margin: 10px 0;
    }
    </style>

    <template>
        <div hidden="{{_hide}}">
            <header>Properties</header>
            <template is="dom-repeat" items="{{_properties}}">
                <section>
                    <span>{{item.name}}</span> | <span>{{item.type}}</span>
                </section>
            </template>
        </div>
    </template>

</dom-module>

<script>
'use strict';

Polymer({
    is: 'bde-property-inspector',

    properties: {

        /**
         * Metadata published by the store about the currently selected element
         */
        metadata: {
            type: Object,
            observer: '_metadataChanged'
        }

    },

    attached: function() {
        this._hide = true;
    },

    _metadataChanged () {
        this._properties = (this.metadata &&
                            this.metadata.analyzed &&
                            this.metadata.analyzed.properties) || [];

        this._hide = (this._properties.length == 0);
    }

});
</script>
